- content_for :title, 'My Profile'
- @active = 'profile'

.container#account
  .row
    .col-sm-3
      = render 'users/shared/sidebar'
    .col-sm-9
      %h3.m-b-3 My Profile
      #profile
        .show
          = form_for @user, html: { multipart: true } do |f|
            .m-b-3
              = render 'users/shared/error_messages'
            .row
              .col-sm-3#avatar
                %a{href: '#'}
                  .image{style: "background-image:url(#{avatar_url(@user)})"}
                  .info change image
                .newImageName
                = f.file_field :avatar
              .col-sm-9.p-l-3
                .row
                  .col-sm-6
                    .form-group
                      = f.label :first_name, 'First Name', class: 'form-label'
                      = f.text_field :first_name, class: 'form-control'
                  .col-sm-6
                    .form-group
                      = f.label :last_name, 'Last Name', class: 'form-label'
                      = f.text_field :last_name, class: 'form-control'
                .row
                  .col-sm-6
                    .form-group
                      = f.label :position, 'Current Position',
                        class: 'form-label'
                      = f.select :position, User::POSITIONS,
                        {include_blank: true}, class: 'form-control'
                  .col-sm-6
                    .form-group
                      = f.label :organization_name, 'Organization', class: 'form-label'
                      = f.text_field :organization_name, class: 'form-control'
                .row
                  .col-sm-4
                    .form-group
                      = f.label :address_city, 'City', class: 'form-label'
                      = f.text_field :address_city, class: 'form-control'
                  .col-sm-4
                    .form-group
                      = f.label :address_state, 'State', class: 'form-label'
                      = f.text_field :address_state, class: 'form-control'
                  .col-sm-4
                    .form-group
                      = f.label :address_country, 'Country', class: 'form-label'
                      = country_select "user", "address_country",
                        { priority_countries: ["US", "CA", "GB", "AU"],
                          selected: @user.address_country,
                          include_blank: 'Select Country' },
                        { class: 'form-control' }
            .row
              .col-sm-12
                %hr
                .form-group
                  = f.label :bio, "Short Bio (#{User::MAX_BIO_LENGTH} characters max)",
                    class: 'form-label'
                  = f.text_area :bio, rows: 2, class: 'form-control',
                    maxlength: User::MAX_BIO_LENGTH
            .row
              .col-sm-6
                .form-group
                  = f.label :interests, 'Interests', class: 'form-label'
                  - Interest.public_interests.each do |interest|
                    .checkbox
                      %label
                        = check_box_tag 'user[interests][]', interest.name,
                          has_interest?(@user, interest.name)
                        = interest.name
              .col-sm-6
                .form-group
                  = f.label :certifications, 'Trainings & Certifications',
                    class: 'form-label'
                  - Certification.public_certifications.each do |certification|
                    .checkbox
                      %label
                        = check_box_tag 'user[certifications][]', certification.name,
                          has_certification?(@user, certification.name)
                        = certification.name
            .form-group.m-t-2
              = f.submit "Save profile", class: "btn btn-cart"
